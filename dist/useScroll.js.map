{"version":3,"file":"useScroll.js","sources":["../src/useScroll.ts"],"sourcesContent":["import {\n  useState,\n  useEffect,\n  useCallback,\n} from \"react\";\n\nexport const useScroll = () => {\n  const [state, setState] = useState<{\n    lastScrollTop: number;\n    bodyOffset: DOMRect;\n    scrollY: number;\n    scrollX: number;\n    scrollDirection: \"down\" | \"up\" | \"\";\n  }>({\n    lastScrollTop: 0,\n    bodyOffset: document.body.getBoundingClientRect(),\n    scrollY: document.body.getBoundingClientRect()\n      .top,\n    scrollX: document.body.getBoundingClientRect()\n      .left,\n    scrollDirection: \"\",\n  });\n\n  const handleScrollEvent = useCallback((_) => {\n    setState((prevState: any) => {\n      const prevLastScrollTop =\n        prevState.lastScrollTop;\n      const bodyOffset = document.body.getBoundingClientRect();\n\n      return {\n        bodyOffset: bodyOffset,\n        scrollY: -bodyOffset.top,\n        scrollX: bodyOffset.left,\n        scrollDirection:\n          prevLastScrollTop > -bodyOffset.top\n            ? \"down\"\n            : \"up\",\n        lastScrollTop: -bodyOffset.top,\n      };\n    });\n  }, []);\n\n  useEffect(() => {\n    const scrollListener = (e: any) => {\n      handleScrollEvent(e);\n    };\n    window.addEventListener(\n      \"scroll\",\n      scrollListener\n    );\n\n    return () => {\n      window.removeEventListener(\n        \"scroll\",\n        scrollListener\n      );\n    };\n  }, [handleScrollEvent]);\n\n  return {\n    scrollY: state.scrollY,\n    scrollX: state.scrollX,\n    scrollDirection: state.scrollDirection,\n  };\n};\n\nexport default useScroll;\n"],"names":["useState","useCallback","useEffect"],"mappings":";;;;;;;;;;;;;;;;;;;;;;IAMa,SAAS,GAAG;IACjB,IAAA,KAAoBA,cAAQ,CAM/B;QACD,aAAa,EAAE,CAAC;QAChB,UAAU,EAAE,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE;QACjD,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE;aAC3C,GAAG;QACN,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE;aAC3C,IAAI;QACP,eAAe,EAAE,EAAE;KACpB,CAAC,EAdK,KAAK,QAAA,EAAE,QAAQ,QAcpB,CAAC;IAEH,IAAM,iBAAiB,GAAGC,iBAAW,CAAC,UAAC,CAAC;QACtC,QAAQ,CAAC,UAAC,SAAc;YACtB,IAAM,iBAAiB,GACrB,SAAS,CAAC,aAAa,CAAC;YAC1B,IAAM,UAAU,GAAG,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAEzD,OAAO;gBACL,UAAU,EAAE,UAAU;gBACtB,OAAO,EAAE,CAAC,UAAU,CAAC,GAAG;gBACxB,OAAO,EAAE,UAAU,CAAC,IAAI;gBACxB,eAAe,EACb,iBAAiB,GAAG,CAAC,UAAU,CAAC,GAAG;sBAC/B,MAAM;sBACN,IAAI;gBACV,aAAa,EAAE,CAAC,UAAU,CAAC,GAAG;aAC/B,CAAC;SACH,CAAC,CAAC;KACJ,EAAE,EAAE,CAAC,CAAC;IAEPC,eAAS,CAAC;QACR,IAAM,cAAc,GAAG,UAAC,CAAM;YAC5B,iBAAiB,CAAC,CAAC,CAAC,CAAC;SACtB,CAAC;QACF,MAAM,CAAC,gBAAgB,CACrB,QAAQ,EACR,cAAc,CACf,CAAC;QAEF,OAAO;YACL,MAAM,CAAC,mBAAmB,CACxB,QAAQ,EACR,cAAc,CACf,CAAC;SACH,CAAC;KACH,EAAE,CAAC,iBAAiB,CAAC,CAAC,CAAC;IAExB,OAAO;QACL,OAAO,EAAE,KAAK,CAAC,OAAO;QACtB,OAAO,EAAE,KAAK,CAAC,OAAO;QACtB,eAAe,EAAE,KAAK,CAAC,eAAe;KACvC,CAAC;AACJ;;;;;"}